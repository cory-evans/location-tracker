# Place your local configuration in /mosquitto/config/mosquitto.conf
#
# A full description of the configuration file is at
# /usr/share/doc/mosquitto/examples/mosquitto.conf.example

pid_file /mosquitto/data/mosquitto.pid

persistence true
persistence_location /mosquitto/data/

log_dest file /mosquitto/log/mosquitto.log

listener 1883 0.0.0.0

allow_anonymous false

include_dir /etc/mosquitto/conf.d
auth_plugin /etc/mosquitto/conf.d/go-auth.so

# mosquitto-go-auth options
auth_opt_backends http
auth_opt_http_host api
auth_opt_http_port 8090
auth_opt_http_getuser_uri /api/mqtt/user
auth_opt_http_aclcheck_uri /api/mqtt/acl

auth_opt_cache true
auth_opt_cache_type gocache
auth_opt_cache_reset true
auth_opt_cache_refresh false

auth_opt_auth_cache_seconds 30
auth_opt_acl_cache_seconds 30
auth_opt_auth_jitter_seconds 3
auth_opt_acl_jitter_seconds 3